{{#if this.isLoading}}
  <div class="auk-loader" role="alert" aria-busy="true"></div>
{{else}}
  {{#if (not this.isEditing)}}
    <Auk::Pill
      @skin="active"
      @icon={{this.pillIcon}}
      data-test-access-level-pill
    >
      {{this.accessLevelLabel}}
    </Auk::Pill>
    {{#if this.canEdit}}
      <Auk::Button
        @skin="tertiary"
        @layout="icon-only"
        @icon="pencil"
        class="auk-button--tiny"
        {{on "click" this.openEditMode}}
        data-test-access-level-pill-edit
      />
    {{/if}}
  {{else}}
    <div class="auk-u-maximize-width">
      <Utils::ModelSelector
        @modelName="access-level"
        @propertyToShow="label"
        @sortField="priority"
        @selectedItems={{@accessLevel}}
        @selectModel={{this.changeAccessLevel}}
        data-test-access-level-pill-selector
      />
    </div>
    <Auk::Button
      @skin="tertiary"
      @layout="icon-only"
      @icon="check"
      class="auk-button--tiny"
      {{on "click" (perform this.confirmChangeAccessLevel @accessLevel)}}
      data-test-access-level-pill-save
    />
    <Auk::Button
      @skin="tertiary"
      @layout="icon-only"
      @icon="x"
      class="auk-button--tiny"
      {{on "click" (perform this.cancelChangeAccessLevel)}}
      data-test-access-level-pill-cancel
    />
  {{/if}}
{{/if}}