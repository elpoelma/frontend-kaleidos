<Auk::KeyValue @key={{t "document-name"}}>
  {{#if this.isEditingDetails}}
    <Textarea
      aria-labelledby="piece-name"
      class="auk-textarea"
      @value={{mut @piece.name}}
    />
  {{else}}
    {{@piece.name}}
  {{/if}}
</Auk::KeyValue>
{{#unless @loading}}
  {{#if (or this.documentType this.isEditingDetails)}}
    <Auk::KeyValue @key={{t "document-type"}}>
      {{#if this.isEditingDetails}}
        <Utils::ModelSelector
          @modelName="document-type"
          @allowClear={{true}}
          @hideSearch={{true}}
          @propertyToShow="label"
          @sortField="priority"
          @selectedItems={{this.documentType}}
          @selectModel={{this.changeDocumentType}}
        />
      {{else}}
        {{this.documentType.label}}
      {{/if}}
    </Auk::KeyValue>
  {{/if}}
  <Auk::KeyValue @key={{t "publicity"}}>
    <Utils::AccessLevelColorBadge
      @accessLevel={{this.accessLevel}}
      @editingEnabled={{this.isEditingDetails}}
      @changeAccessLevel={{this.changeAccessLevel}}
    />
  </Auk::KeyValue>
{{/unless}}
<Auk::KeyValue @key={{capitalize (t "confidentiality")}}>
  <Utils::ConfidentialityPill
    @confidential={{@piece.confidential}}
    @editingEnabled={{this.isEditingDetails}}
  />
</Auk::KeyValue>
<Auk::KeyValue @key={{t "file-type"}}>
  <Utils::Documents::FileTypePill @extension={{@piece.file.extension}} />
</Auk::KeyValue>
<Auk::Toolbar as |toolbar|>
  <toolbar.Group @position="right" as |group|>
    {{#if this.isEditingDetails}}
      <group.Item>
        <Auk::ButtonLink
          @disabled={{this.saveEditDetails.isRunning}}
          {{on "click" this.cancelEditDetails}}
        >
          {{t "cancel"}}
        </Auk::ButtonLink>
      </group.Item>
      <group.Item>
        <Auk::Button
          @skin="primary"
          @loading={{this.saveEditDetails.isRunning}}
          {{on "click" (perform this.saveEditDetails)}}
        >
          {{t "save"}}
        </Auk::Button>
      </group.Item>
    {{else}}
      <group.Item>
        <Auk::Button
          @skin="tertiary"
          @icon="pencil"
          {{on "click" this.openEditDetails}}
        >
          {{t "edit-2"}}
        </Auk::Button>
      </group.Item>
    {{/if}}
  </toolbar.Group>
</Auk::Toolbar>