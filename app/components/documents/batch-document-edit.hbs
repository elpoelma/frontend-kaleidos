<div {{did-update (perform this.loadData) @pieces}}>
  {{#if this.loadData.isRunning}}
    <WebComponents::VlLoader @text={{t "documents-loading-text"}} />
  {{else}}
    <div class="vlc-box">
      <div class="auk-u-mb-4">
        <table class="auk-table">
          <thead>
            <tr>
              <th class="auk-table__col--4">
                <WebComponents::AuLabel>
                  {{t "document-name"}}
                </WebComponents::AuLabel>
              </th>
              <th class="auk-table__col--3">
                <WebComponents::AuLabel>
                  {{t "file-type"}}
                </WebComponents::AuLabel>
              </th>
              <th class="auk-table__col--3">
                <WebComponents::AuLabel>
                  {{t "publicity"}}
                </WebComponents::AuLabel>
              </th>
              <th class="auk-table__col--1">
                <WebComponents::AuLabel>
                  {{t "confidential"}}
                </WebComponents::AuLabel>
              </th>
              <th class="auk-table__col--1"></th>
            </tr>
          </thead>
          <tbody>
            {{#each this.sortedDocumentHistories as |history|}}
              {{#unless history.lastPiece.softDeleted}}
                <Documents::EditDocumentRow
                  @piece={{history.lastPiece}} />
              {{/unless}}
            {{/each}}
          </tbody>
        </table>
      </div>
      <div class="vl-action-group vl-action-group--align-right">
        <button type="button" class="auk-button-link" {{on "click" (perform this.cancelEditPieces)}}>
          {{t "cancel"}}
        </button>
        <WebComponents::VlSaveButton
          @text={{t "save"}}
          @isLoading={{this.saveEditPieces.isRunning}}
          @saveAction={{perform this.saveEditPieces}} />
      </div>
    </div>
  {{/if}}
</div>