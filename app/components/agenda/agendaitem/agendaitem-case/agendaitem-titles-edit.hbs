{{!-- TODO: octane-refactor --}}
{{!-- template-lint-disable no-action --}}
<div class="auk-box auk-u-mb-4">
  <div class="auk-u-mb-4">
    {{#if @subcase}}
      <div class="auk-form-group">
        <Auk::Label for="subcase-confidential">{{t "confidential"}}</Auk::Label>
        <Auk::Toggle
          id="subcase-confidential"
          @checked={{@subcase.confidential}}
          data-test-agendaitem-titles-edit-confidential={{true}}
        />
      </div>
    {{/if}}
    <div class="auk-form-group">
      <Auk::Label id="name-subcase">{{t "name-subcase"}}</Auk::Label>
      <Textarea
        data-test-agendaitem-titles-edit-shorttitle={{true}}
        rows="2"
        aria-labelledby="name-subcase"
        class="auk-textarea"
        @value={{@agendaitem.shortTitle}}
      />
    </div>
  </div>
  <div class="auk-u-mb-4">
    <div class="auk-form-group">
      <Auk::Label id="title-subcase">{{t "title-subcase"}}</Auk::Label>
      <Textarea
        data-test-agendaitem-titles-edit-title={{true}}
        rows="4"
        aria-labelledby="title-subcase"
        class="auk-textarea"
        @value={{@agendaitem.title}}
      />
    </div>
  </div>
  <div class="auk-u-mb-4">
    <div class="auk-form-group">
      <Auk::Label id="remark-title" class="auk-u-icon-left"><Auk::Icon @name="lock-closed" @size="small" /> {{t "util.internal-remark-title"}}</Auk::Label>
      <Textarea
        data-test-agendaitem-titles-edit-explanation={{true}}
        rows="2"
        aria-labelledby="remark-title"
        class="auk-textarea"
        @value={{@agendaitem.explanation}}
      />
    </div>
  </div>
  <div class="auk-u-mb-4">
    <div class="auk-form-group">
      <Auk::Label for="subcase-formallity">{{t "util.approval"}}</Auk::Label>
      <Utils::FormallyOkSelector
        data-test-agenda-overview-item-formally-ok={{true}}
        @formallyOkStatusUri={{@agendaitem.formallyOk}}
        @onChange={{this.setAndSaveFormallyOkStatus}}
      />
    </div>
  </div>
  {{#if @agendaitem.showAsRemark}}
    <div class="auk-u-mb-4">
      <div class="auk-form-group">
        {{#if this.newsletterInfo}}
          <Auk::Label for="item-show-in-newsletter">{{t "util.website"}}</Auk::Label>
          <Auk::Toggle
            id="item-show-in-newsletter"
            @checked={{this.newsletterInfo.inNewsletter}}
            data-test-agendaitem-titles-edit-showInNewsletter={{true}}
          />
        {{else}}
          <Auk::Label>{{t "show-in-newsletter"}}</Auk::Label>
          {{t "no-newsletter-info"}}
        {{/if}}
      </div>
    </div>
  {{/if}}
  <Auk::Toolbar>
    <Auk::Toolbar::Group @position="right">
      <Auk::Toolbar::Item>
        <Auk::Button
          @skin="tertiary"
          {{action this.cancelEditing}}
        >
          {{t "cancel"}}
        </Auk::Button>
      </Auk::Toolbar::Item>
      <Auk::Toolbar::Item>
        <WebComponents::VlSaveButton
          data-test-agendaitem-titles-edit-save={{true}}
          @text={{t "save"}}
          @isLoading={{this.isLoading}}
          @saveAction={{action this.saveChanges}}
        />
      </Auk::Toolbar::Item>
    </Auk::Toolbar::Group>
  </Auk::Toolbar>
</div>