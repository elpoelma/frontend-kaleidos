<Auk::Sidebar
  @position="left"
  @skin="gray-200"
  class={{if @isOpen "auk-scroll-wrapper"}}
  @isCollapsed={{not @isOpen}}
>
  <Auk::Navbar @skin="gray-200">
    <Auk::Toolbar as |Toolbar|>
      {{#if @isOpen}}
        <Toolbar.Group @position="left">
          <h2 class="auk-toolbar-complex__title--small">{{t "nav-title"}}</h2>
        </Toolbar.Group>
      {{/if}}
      <Toolbar.Group @position={{if @isOpen "right" "center"}} as |Group|>
        <Group.Item
          class={{if (not @isOpen) "auk-o-flex auk-o-flex--horizontal-center"}}
        >
          <Auk::Button
            @skin="borderless"
            @layout="icon-only"
            @icon={{if @isOpen "chevron-left" "chevron-right"}}
            {{on "click" (if @isOpen @onCollapse @onOpen)}}
          >
            {{t "toggle"}}
          </Auk::Button>
        </Group.Item>
      </Toolbar.Group>
    </Auk::Toolbar>
  </Auk::Navbar>
  <ul class="auk-scroll-wrapper__body auk-scroll-wrapper__body--vertical">
    {{#each @reverseSortedAgendas as |agenda|}}
      <li
        class="auk-sidebar__item auk-sidebar__item--styled
          {{if (eq @currentAgenda.id agenda.id) "auk-sidebar__item--active"}}"
      >
        <LinkTo
          data-test-agenda-side-nav-agenda
          @route="agenda.agendaitems"
          @models={{array @meeting.id agenda.id}}
        >
          <div class="auk-sidebar__label">
            {{#if @isOpen}}
              <span data-test-agenda-side-nav-agenda-name>
                {{#if agenda.status.isDesignAgenda}}
                  <strong>
                    {{t "design-agenda"}}
                  </strong>
                  {{#if agenda.serialnumber}}
                    <Auk::Pill @skin="active-future">
                      {{agenda.serialnumber}}
                    </Auk::Pill>
                  {{/if}}
                {{else}}
                  <strong>{{t "agenda"}}</strong>
                  {{#if agenda.serialnumber}}
                    <Auk::Pill>
                      {{agenda.serialnumber}}
                    </Auk::Pill>
                  {{/if}}
                {{/if}}
              </span>
            {{else}}
              <span>
                {{#if agenda.status.isDesignAgenda}}
                  <Auk::Pill @skin="active-future">
                    {{or agenda.serialnumber "-"}}
                  </Auk::Pill>
                {{else}}
                  <Auk::Pill>
                    {{or agenda.serialnumber "-"}}
                  </Auk::Pill>
                {{/if}}
              </span>
            {{/if}}
          </div>
          {{#if @isOpen}}
            <div class="auk-sidebar__sublabel">
              {{#if agenda.isDesignAgenda}}
                {{t "latest-modified-on"}}
              {{else}}
                {{t "approved-on"}}
              {{/if}}
              <br />
              {{moment-format agenda.modified "dd DD-MM-YYYY HH:mm"}}
            </div>
          {{/if}}
        </LinkTo>
      </li>
    {{/each}}
  </ul>
</Auk::Sidebar>