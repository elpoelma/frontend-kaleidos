<div class="auk-u-mb-3">
  {{#unless this.isInEditMode}}
    <Auk::Panel data-test-publication-case-panel-case>
      <Auk::Panel::Header>
        <WebComponents::AuToolbar>
          <WebComponents::AuToolbar::Group @position="left">
            <WebComponents::AuToolbar::Item>
              <h4 class="auk-panel__title">
                {{t "publication-inscription"}}
              </h4>
            </WebComponents::AuToolbar::Item>
          </WebComponents::AuToolbar::Group>
          <WebComponents::AuToolbar::Group @position="right">
            {{#if this.isViaCouncilOfMinisters}}
              <WebComponents::AuToolbar::Item>
                <WebComponents::AuButtonToolbar>
                  <LinkTo class="auk-button auk-button--tertiary"
                    @route="cases.case.subcases.subcase.overview"
                    @models={{array
                      @publicationFlow.case.id
                      @latestSubcaseOnMeeting.id
                    }}
                  >
                  <span class="auk-button__content">
                    <span class="auk-button__label">{{t "to-case"}}</span>
                    <div class="auk-icon auk-icon--default auk-icon--chevron-right">
                      <i class="ki ki-chevron-right"></i>
                    </div>
                  </span>
                  </LinkTo>
                </WebComponents::AuButtonToolbar>
              </WebComponents::AuToolbar::Item>
            {{/if}}
            <WebComponents::AuToolbar::Item>
              <Auk::Button @skin="tertiary" @icon="edit" @layout="icon-only" {{on "click" this.putInEditMode}} data-test-publication-edit-inscription-button />
            </WebComponents::AuToolbar::Item>
          </WebComponents::AuToolbar::Group>
        </WebComponents::AuToolbar>
      </Auk::Panel::Header>
      <Auk::Panel::Body>
        <div class="auk-content" data-test-publication-flow-title>
          <h4>{{@publicationFlow.shortTitle}}</h4>
          <p class="auk-u-text-prewrap">{{@publicationFlow.longTitle}}</p>
        </div>
      </Auk::Panel::Body>
    </Auk::Panel>
  {{else}}
    <Auk::Panel data-test-publication-case-panel-case-editing class="auk-panel--editing">
      <Auk::Panel::Header>
        <WebComponents::AuToolbar>
          <WebComponents::AuToolbar::Group @position="left">
            <WebComponents::AuToolbar::Item>
              <h4 class="auk-panel__title">{{t "publication-inscription"}}</h4>
            </WebComponents::AuToolbar::Item>
          </WebComponents::AuToolbar::Group>
        </WebComponents::AuToolbar>
      </Auk::Panel::Header>
      <Auk::Panel::Body>
        <div class="auk-form-group">
          <Auk::Label>{{t "short-title"}}</Auk::Label>
          <WebComponents::AuTextarea @rows="2" @value={{@publicationFlow.shortTitle}} data-test-publication-inscription-short-title-textarea></WebComponents::AuTextarea>
        </div>
        <div class="auk-form-group">
          <Auk::Label>{{t "title-subcase"}}</Auk::Label> {{!-- TODO: misleading translation tag. There are no subcases here --}}
          <WebComponents::AuTextarea @rows="4" @value={{@publicationFlow.longTitle}} data-test-publication-inscription-long-title-textarea></WebComponents::AuTextarea>
        </div>
      </Auk::Panel::Body>
      <Auk::Panel::Footer>
        <WebComponents::AuToolbar>
          <WebComponents::AuToolbar::Group @position="left">
            <WebComponents::AuToolbar::Item>
              <Auk::Button @skin="borderless" {{on "click" this.cancelEdit}} data-test-publication-cancel-inscription>{{t "cancel"}}</Auk::Button>
            </WebComponents::AuToolbar::Item>
          </WebComponents::AuToolbar::Group>
          <WebComponents::AuToolbar::Group @position="right">
            <WebComponents::AuToolbar::Item>
              <Auk::Button
                @skin="primary"
                @disabled={{this.save.isRunning}}
                data-test-publication-save-inscription
                {{on "click" (perform this.save)}}
              >
                {{t "save"}}
              </Auk::Button>
            </WebComponents::AuToolbar::Item>
          </WebComponents::AuToolbar::Group>
        </WebComponents::AuToolbar>
      </Auk::Panel::Footer>
    </Auk::Panel>
  {{/unless}}
</div>
