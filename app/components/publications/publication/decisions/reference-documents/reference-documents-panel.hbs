<Auk::Panel>
  <Auk::Panel::Header>
    <Auk::Toolbar>
      <Auk::Toolbar::Group @position="left">
        <Auk::Toolbar::Item>
          <h4 class="auk-panel__title">
            {{t "documents"}}
          </h4>
        </Auk::Toolbar::Item>
      </Auk::Toolbar::Group>
      <Auk::Toolbar::Group @position="right">
        {{#if (not this.isViaCouncilOfMinisters)}}
          <Auk::Toolbar::Item>
            <Auk::Button
              @skin="primary"
              @icon="plus"
              {{on "click" this.openUploadRefDocModal}}
            >
              {{t "document-add"}}
            </Auk::Button>
          </Auk::Toolbar::Item>
        {{/if}}
      </Auk::Toolbar::Group>
    </Auk::Toolbar>
  </Auk::Panel::Header>
  <Auk::Panel::Body>
    <Documents::DocumentList @pieces={{@referenceDocuments}} as |pieces|>
      {{#each pieces as |piece|}}
        <Publications::Publication::Decisions::ReferenceDocuments::ReferenceDocumentCard
          @piece={{piece}}
          @onAddPiece={{this.saveRefDocVersion}}
          @didDeletePiece={{@refresh}}
          @didDeleteContainer={{@refresh}}
          @publicationFlow={{@publicationFlow}}
          @hasMarkForSignature={{this.isShownSignatureMarker}}
          @markForSignature={{this.markForSignature}}
          @unmarkForSignature={{this.unmarkForSignature}}
        />
      {{else}}
        <Auk::EmptyState @message={{t "reference-documents-empty"}} />
      {{/each}}
    </Documents::DocumentList>
  </Auk::Panel::Body>
</Auk::Panel>

{{#if this.isOpenRefDocUploadModal}}
  <Publications::Publication::Decisions::ReferenceDocuments::ReferenceDocumentUploadModal
    @publicationFlow={{@publicationFlow}}
    @referenceDocument={{this.selectedPiece}}
    @isNewDocumentContainer={{this.isNewContainer}}
    @onSave={{perform this.saveRefDoc}}
    @onCancel={{this.closeRefDocUploadModal}}
  />
{{/if}}
