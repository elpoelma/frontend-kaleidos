{{#if isEditing}}
  {{utils/edit-mandatee
    mandateeToEdit=(await mandateeToEdit)
    closeModal=(action "toggleIsEditing")
    mandateesUpdated= (action "mandateesUpdated")
  }}
{{/if}}
{{#if isResigning}}
  <div class="auk-modal__content">
    {{#if showVerificationPopup}}
      {{changes-alert
        data-test-manage-mandatee-changes-alert=true
        message=(t "show-active-minister-alert")
        buttonText=(t "close")
        clearAction=(action "close")
      }}
    {{/if}}
    <div class="auk-form-group">
      <WebComponents::AuLabel>{{t "end-date"}}</WebComponents::AuLabel>
      {{web-components/vl-datepicker dateChanged=(action "selectEndDate")}}
    </div>
    <div class="auk-form-group">
      <WebComponents::AuLabel>{{t "new-person"}}</WebComponents::AuLabel>
      {{utils/create-person-selector
        selectedItems=selectedPerson
        selectModel=(action "personSelected")
      }}
    </div>

    {{#if selectedPerson}}
      <div class="auk-form-group">
        <WebComponents::AuLabel>{{t "start-date"}}</WebComponents::AuLabel>
        {{web-components/vl-datepicker dateChanged=(action "selectNewStartDate")}}
      </div>
    {{/if}}
  </div>
  {{web-components/vl-modal-footer
    isLoading=isLoading
    cancelButtonText=(t "cancel")
    saveButtonText=(t "save-resignation")
    cancelAction=(action "toggleIsResigning")
    saveAction=(action "saveResignation")
  }}
{{/if}}