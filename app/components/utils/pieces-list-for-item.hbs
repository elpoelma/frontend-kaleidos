{{#if (is-pending @pieces)}}
  <WebComponents::VlLoader @text={{t "documents-loading-text"}} />
{{else}}
  <div class="grid-container">
    {{#if (and this.moreThan20 (not this.isShowingAll))}}
      {{#each (await this.piecesLimited) as |piece|}}
        <ItemDocument
          @piece={{piece}}
          @isClickable={{@isClickable}}
          @useNewIcons={{this.useNewIcons}}
        />
      {{/each}}
    {{else}}
      {{#each (await this.sortedPieces) as |piece|}}
        <ItemDocument
          @piece={{piece}}
          @isClickable={{@isClickable}}
          @useNewIcons={{this.useNewIcons}}
        />
      {{/each}}
    {{/if}}
  </div>
  {{#if this.moreThan20}}
    <button class="vlc-document-show-more-button" type="button" {{action "toggleShowingAll"}}>
      <Auk::Icon @name={{if this.isShowingAll "remove" "add"}} />
      <p class="vlc-document-show-more-button__text auk-u-ml">
        {{#if this.isShowingAll }}
          {{t "show-less"}}
        {{else}}
          {{t "show-more"}}
        {{/if}}
      </p>
    </button>
  {{/if}}
{{/if}}