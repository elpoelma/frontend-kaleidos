<Auk::CheckboxList
  {{did-update (perform this.calculateDomainSelections) @selectedFields}}
  data-test-government-area-selector-form
>
  {{#each this.domainSelections as |domainSelection index|}}
    {{! template-lint-disable simple-unless }}
    {{#unless (eq index 0)}}
      <hr class="auk-u-my-2"/>
    {{/unless}}
    {{! template-lint-enable simple-unless }}
    <AuCheckbox
      @checked={{domainSelection.isSelected}}
      @onChange={{fn this.toggleDomainSelection domainSelection}}
    >
      {{domainSelection.domain.label}}
    </AuCheckbox>
    <Auk::CheckboxList data-test-government-area-selector-form-domain-list>
      {{#each domainSelection.availableFields as |field|}}
        <AuCheckbox
          @checked={{includes field domainSelection.selectedFields}}
          @onChange={{fn this.toggleFieldSelection field}}
        >
          {{field.label}}
        </AuCheckbox>
      {{/each}}
    </Auk::CheckboxList>
  {{/each}}
</Auk::CheckboxList>