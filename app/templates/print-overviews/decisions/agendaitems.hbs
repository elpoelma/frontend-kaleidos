{{!-- TODO: octane-refactor --}}
{{!-- template-lint-disable no-action --}}
<div class="auk-u-m-8">
  <div class=""></div>
  <Utils::AgendaitemTable
    @model={{await this.model}}
    @sort={{this.sort}}
    @page={{this.page}}
    @filter={{this.filter}}
    @include={{this.include}}
    @size={{this.size}}
    @columns={{this.columns}}
    as |agendaitemRow|
  >
    {{#if (is-pending agendaitemRow.treatment)}}
      <WebComponents::VlLoader @text={{t "decisions-loading-text"}} />
    {{else}}
      <div class="auk-u-m-8">
        {{! TODO: Figure out if this old, unmaintained route still works properly}}
        {{#let (await agendaitemRow.content.agendaActivity.subcase) as |subcase|}}
          <Agenda::Agendaitem::AgendaitemDecision
            @decisionActivity={{await agendaitemRow.content.treatment.decisionActivity}}
            @subcase={{subcase}}
          />
        {{/let}}
      </div>
    {{/if}}
  </Utils::AgendaitemTable>
</div>
{{outlet}}