{{#if (not isEditing)}}
{{!-- shouldShowDetails should only be false when the agendaitem is to approve minutes --}}
  <Components::Agenda::Agendaitem::AgendaitemCase::AgendaitemTitles
    @agendaitem={{@agendaitem}}
    @subcase={{await this.subcase}}
    @shouldShowDetails= {{or @agendaitem.showAsRemark (await @agendaitem.agendaActivity)}}
    @toggleIsEditing={{action this.toggleIsEditing}}
  />
{{else}}
  <Components::Agenda::Agendaitem::AgendaitemCase::AgendaitemTitlesEdit
    @agendaitem={{@agendaitem}}
    @isEditing={{@isEditing}}
    @subcase= {{await this.subcase}}
    @toggleIsEditing={{action this.toggleIsEditing}}
  />
{{/if}}
{{#if @agendaitem.showAsRemark}}
{{!-- TODO refactor mandatees to a glimmer component --}}
  <Components::Agenda::Agendaitem::AgendaitemCase::AgendaitemMandatees
    @agendaitem={{@agendaitem}}
    @subcase={{await this.subcase}}
  />
  <Components::Agenda::Agendaitem::AgendaitemCase::AllSubcases
    @subcases={{await this.subcases}}
  />
{{else}}
  {{#if @agendaitem.agendaActivity}}
    <Components::Agenda::Agendaitem::AgendaitemCase::AgendaitemMandatees
      @agendaitem={{@agendaitem}}
      @subcase={{await this.subcase}}
    />
    {{!-- TODO an agendaitem does not have isecodes, the only ones you ever see are set to model but lost after refresh --}}
    {{!-- TODO it would be as easy as setting item=subcase to get a accurate list, but this feature is not used at the moment --}}
    <Components::Agenda::Agendaitem::AgendaitemCase::SubcaseIseCodes
      @item={{@agendaitem}}
    />
    <Components::Agenda::Agendaitem::AgendaitemCase::AgendaitemApprovals
      @item={{@agendaitem}}
    />
    <Components::Agenda::Agendaitem::AgendaitemCase::AllSubcases
      @subcases={{this.subcases}}
    />
  {{/if}}
{{/if}}
