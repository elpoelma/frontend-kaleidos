<div class="vlc-panel-layout__main-content">
  <Navbar @auto="true">
    <Toolbar @auto="true">
      <Toolbar::Group>
        <Toolbar::Item>
          <Tabs>
            <Tab @route="publications.in-progress">{{t "publications.in-progress"}} ({{amountInProgress}})</Tab>
            <Tab @route="publications.done">{{t "publications.done"}} ({{amountDone}})</Tab>
          </Tabs>
        </Toolbar::Item>
      </Toolbar::Group>
      <Toolbar::Group @position="right">
        <Toolbar::Item>
          <WebComponents::AuButton data-test-publication-header-button-new @icon="add" @skin="primary" {{on "click" (fn this.showNewPublicationModal)}}>{{t "publications.new"}}</WebComponents::AuButton>
        </Toolbar::Item>
      </Toolbar::Group>
    </Toolbar>
  </Navbar>
  <div class="vlc-u-box-model-maximize-height vlc-scroll-wrapper">
    <Navbar @size="large" @border="none">
      <Toolbar>
        <Toolbar::Group>
          <WebComponents::AuInput @icon="search" @block="true" placeholder="Zoeken..."></WebComponents::AuInput>
        </Toolbar::Group>
        <Toolbar::Group @position="right">
          <Toolbar::Item>
            <WebComponents::AuButton @icon="filter">{{t "filter"}}</WebComponents::AuButton>
          </Toolbar::Item>
        </Toolbar::Group>
      </Toolbar>
    </Navbar>
    {{#if isShowingPublicationModal}}
      <WebComponents::AuModal data-test-auk-modal-publication-new>
        <WebComponents::AuModal::Modal::Header @title={{t "publications-new-not-minister"}} @closeModal={{this.closePublicationModal}}/>
        <WebComponents::AuModal::Modal::Body>
          {{#if hasError}}
            <WebComponents::AuAlert data-test-auk-alert-error @title={{t "modal-error-alert-title"}} @skin="error" @message={{t "modal-error-alert-message"}} @icon="ki-alert-triangle" />
          {{else}}
            <WebComponents::AuAlert data-test-auk-alert-info @message={{t "publications-new-warning-message"}} @icon="ki-circle-info" />
          {{/if}}
          <div class="auk-form-group-layout auk-form-group-layout--standard">
            <div class='auk-form-group {{getClassForGroupNumber}}' >
              <WebComponents::AuLabel for="publicationNumberInput">{{t "publications-number-required"}}</WebComponents::AuLabel>
              <WebComponents::AuInput type="text" id="publicationNumberInput" class="auk-input--max-width" @block="true" @value={{mut publication.number}}/>
              {{#if getClassForGroupNumber}}
                <WebComponents::AuLabelError>{{t "input-error-message"}}</WebComponents::AuLabelError>
              {{/if}}
            </div>
            <div class='auk-form-group {{getClassForGroupShortTitle}}' >
              <WebComponents::AuLabel for="shortTitleInput">{{t "name-subcase-required"}}</WebComponents::AuLabel>
              <WebComponents::AuTextarea id="shortTitleInput" @rows="2" @value={{mut publication.shortTitle}}/>
              {{#if getClassForGroupShortTitle}}
                <WebComponents::AuLabelError>{{t "input-error-message"}}</WebComponents::AuLabelError>
              {{/if}}
            </div>
            <div class="auk-form-group">
              <WebComponents::AuLabel for="longTitleInput">{{t "title-subcase"}}</WebComponents::AuLabel>
              <WebComponents::AuTextarea id="longTitleInput" @rows="4" @value={{mut publication.longTitle}} />
            </div>
          </div>
        </WebComponents::AuModal::Modal::Body>
        <WebComponents::AuModal::Modal::Footer>
          <WebComponents::AuToolbar>
            <WebComponents::AuToolbar::Group @position="left">
              <WebComponents::AuToolbar::Item>
                <WebComponents::AuButton @skin="borderless" {{on "click" this.closePublicationModal}} data-test-publication-button-cancel>{{t "cancel"}}</WebComponents::AuButton>
              </WebComponents::AuToolbar::Item>
            </WebComponents::AuToolbar::Group>
            <WebComponents::AuToolbar::Group @position="right">
              <WebComponents::AuToolbar::Item>
                {{#if (not this.isCreatingPublication)}}
                  <WebComponents::AuButton @skin="primary" data-test-publication-button-create-new {{on "click" this.createNewPublication}}>{{t "publications-new-button-text"}}</WebComponents::AuButton>
                {{else}}
                  <WebComponents::VlLoader @text=""></WebComponents::VlLoader> {{!-- TODO au-loader ? --}}
                {{/if}}
              </WebComponents::AuToolbar::Item>
            </WebComponents::AuToolbar::Group>
          </WebComponents::AuToolbar>
        </WebComponents::AuModal::Modal::Footer>
      </WebComponents::AuModal>
    {{/if}}
    {{outlet}}
  </div>
</div>