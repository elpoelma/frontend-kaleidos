<Auk::Panel class="auk-u-mt-4">
  <Auk::Panel::Header>
    <Auk::Toolbar as |Toolbar|>
      <Toolbar.Group @position="left" as |Group|>
        <Group.Item>
          <h4 class="auk-panel__title">
            {{t "publications"}}
          </h4>
        </Group.Item>
      </Toolbar.Group>
      <Toolbar.Group @position="right" as |Group|>
        {{!Registratie}}
        <Group.Item>
          <Auk::Button
            @skin="secondary"
            @icon="plus"
            @disabled={{this.isRegistrationDisabled}}
            {{on "click" this.openPublicationRegisterModal}}
          >
            {{t "publication-publication-register-action"}}
          </Auk::Button>
        </Group.Item>
        {{!Aanvraag}}
        <Group.Item>
          <Auk::Button
            @skin="primary"
            @icon="plus"
            @disabled={{this.isRequestDisabled}}
            {{on "click" this.openRequestModal}}
          >
            {{t "publication-publication-request-action"}}
          </Auk::Button>
        </Group.Item>
      </Toolbar.Group>
    </Auk::Toolbar>
  </Auk::Panel::Header>

  {{!Timeline}}
  <Auk::Panel::Body class="auk-u-bg-alt">
    <Utils::Generic::Timeline::Timeline
      @events={{@model}}
      @emptyMessage={{t "publication-empty"}}
      as |Timeline event|
    >
      {{#if event.isShown}}
        {{#if event.isRequest}}
          <Publications::Publication::PublicationActivities::Index::Timeline::PublicationsRequestTimelineEvent
            @requestActivity={{event.requestActivity}}
            @onDelete={{this.deleteRequest}}
          />
        {{else}}
          <Publications::Publication::PublicationActivities::Index::Timeline::PublicationsPublicationTimelineEvent
            @onEdit={{this.openPublicationEditModal}}
            @publicationActivity={{event.publicationActivity}}
          />
        {{/if}}
      {{/if}}
    </Utils::Generic::Timeline::Timeline>
  </Auk::Panel::Body>
</Auk::Panel>

{{#if this.isOpenRequestModal}}
  <Publications::Publication::PublicationActivities::Index::PublicationRequestModal
    @publicationFlow={{this.publicationFlow}}
    @onSave={{perform this.saveRequest}}
    @onCancel={{this.closeRequestModal}}
  />
{{/if}}

{{#if this.isOpenPublicationDetailsModal}}
  <Publications::Publication::PublicationActivities::Index::PublicationRegistrationModal
    @publicationFlow={{this.publicationFlow}}
    @publicationDetails={{this.selectedPublicationDetails}}
    @onSave={{this.savePublication}}
    @onCancel={{this.closePublicationDetailsModal}}
  />
{{/if}}