{{page-title
  (concat (t "publication-flow") " " this.model.identification.idName)
}}
<Auk::Navbar @skin="gray-100" @auto={{true}}>
  <Auk::Toolbar>
    <Auk::Toolbar::Group @position="left">
      <Auk::Toolbar::Item>
        <div class="auk-o-flex auk-o-flex--vertical auk-u-mt-2">
          <span class="auk-o-flex auk-o-flex--horizontal auk-o-flex--align-baseline auk-o-flex--spaced  auk-u-mb-2">
            {{#if this.model.status.isPending}}
              <Auk::StatusPillAction @status="not-started" @actionIcon="pencil" @actionLabel="Status aanpassen" {{on "click" this.openStatusModal}}>
                <strong>{{this.model.status.label}}</strong> – 22.11.2021
              </Auk::StatusPillAction>
            {{else if this.model.status.isPublished}}
              <Auk::StatusPillAction @status="done" @actionIcon="pencil" @actionLabel="Status aanpassen" {{on "click" this.openStatusModal}}>
                <strong>{{this.model.status.label}}</strong> – 22.11.2021
              </Auk::StatusPillAction>
            {{else if this.model.status.isPaused}}
              <Auk::StatusPillAction @status="paused" @actionIcon="pencil" @actionLabel="Status aanpassen" {{on "click" this.openStatusModal}}>
                <strong>{{this.model.status.label}}</strong> – 22.11.2021
              </Auk::StatusPillAction>
            {{else if this.model.status.isWithdrawn}}
              <Auk::StatusPillAction @status="error" @actionIcon="pencil" @actionLabel="Status aanpassen" {{on "click" this.openStatusModal}}>
                <strong>{{this.model.status.label}}</strong> – 22.11.2021
              </Auk::StatusPillAction>
            {{else if (eq this.model.status.label "Opgestart")}}
              <Auk::StatusPillAction @status="not-started" @actionIcon="pencil" @actionLabel="Status aanpassen" {{on "click" this.openStatusModal}}>
                <strong>{{this.model.status.label}}</strong> – 22.11.2021
              </Auk::StatusPillAction>
            {{else if (eq this.model.status.label "Naar vertaaldienst")}}
              <Auk::StatusPillAction @status="step-1" @actionIcon="pencil" @actionLabel="Status aanpassen" {{on "click" this.openStatusModal}}>
                <strong>{{this.model.status.label}}</strong> – 22.11.2021
              </Auk::StatusPillAction>
            {{else if (eq this.model.status.label "Vertaling in")}}
              <Auk::StatusPillAction @status="step-2" @actionIcon="pencil" @actionLabel="Status aanpassen" {{on "click" this.openStatusModal}}>
                <strong>{{this.model.status.label}}</strong> – 22.11.2021
              </Auk::StatusPillAction>
            {{else if (eq this.model.status.label "Proef gevraagd")}}
              <Auk::StatusPillAction @status="step-3" @actionIcon="pencil" @actionLabel="Status aanpassen" {{on "click" this.openStatusModal}}>
                <strong>{{this.model.status.label}}</strong> – 22.11.2021
              </Auk::StatusPillAction>
            {{else if (eq this.model.status.label "Proef in")}}
              <Auk::StatusPillAction @status="step-4" @actionIcon="pencil" @actionLabel="Status aanpassen" {{on "click" this.openStatusModal}}>
                <strong>{{this.model.status.label}}</strong> – 22.11.2021
              </Auk::StatusPillAction>
            {{else if (eq this.model.status.label "Rappel proef")}}
              <Auk::StatusPillAction @status="step-5" @actionIcon="pencil" @actionLabel="Status aanpassen" {{on "click" this.openStatusModal}}>
                <strong>{{this.model.status.label}}</strong> – 22.11.2021
              </Auk::StatusPillAction>
            {{else if (eq this.model.status.label "Proef verbeterd")}}
              <Auk::StatusPillAction @status="step-6" @actionIcon="pencil" @actionLabel="Status aanpassen" {{on "click" this.openStatusModal}}>
                <strong>{{this.model.status.label}}</strong> – 22.11.2021
              </Auk::StatusPillAction>
            {{else if (eq this.model.status.label "Publicatie gevraagd")}}
              <Auk::StatusPillAction @status="step-7" @actionIcon="pencil" @actionLabel="Status aanpassen" {{on "click" this.openStatusModal}}>
                <strong>{{this.model.status.label}}</strong> – 22.11.2021
              </Auk::StatusPillAction>
            {{else}}
              <Auk::StatusPillAction @status="not-started" @actionIcon="pencil" @actionLabel="Status aanpassen" {{on "click" this.openStatusModal}}>
                <strong>{{this.model.status.label}}</strong> – 22.11.2021
              </Auk::StatusPillAction>
            {{/if}}

            <span class="auk-overline auk-u-muted"
              data-test-route-publications-publication-header-number>
              {{uppercase (t "publication-flow")}}
              -
              {{#if this.model.case.subcases}}
                {{uppercase (t "via-cabinet")}}
              {{else}}
                {{uppercase (t "not-via-cabinet")}}
              {{/if}}
              -
              {{uppercase this.model.identification.idName}}
            </span>
          </span>
          <Auk::AbbreviatedText
            @text={{or
              this.model.shortTitle
              this.model.longTitle
            }}
            @maxLength={{150}}
          as |abbreviatedText|>
            <div
              data-test-route-publications-publication-header-short-title
              class="auk-toolbar-complex__title"
            >
              {{abbreviatedText}}
            </div>
          </Auk::AbbreviatedText>
          <Publications::Publication::PublicationNavigation @publicationFlow={{this.model}} />
        </div>
      </Auk::Toolbar::Item>
    </Auk::Toolbar::Group>
  </Auk::Toolbar>
</Auk::Navbar>

{{!-- Auk css gebruiken, component ? --}}
<div class="auk-scroll-wrapper">
  <div class="auk-scroll-wrapper__body">
    {{outlet}}
  </div>
</div>

{{#if this.showStatusModal}}
<Publications::Publication::StatusModal
  @publicationFlow={{this.model}}
  @onSave={{perform this.closeStatusModal}}
  @didChange={{this.saveSidebarProperty}}
  @onCancel={{this.closeStatusModal}}
/>
{{/if}}