<div class="auk-u-m-4">
  <Publications::Publication::Translations::TranslationsInfoPanel
    @translationSubcase={{this.translationSubcase}}
    @isFinal={{this.publicationFlow.status.isFinal}}
  />

  <div class="auk-u-mt-4">
    <Auk::Panel>
      <Auk::Panel::Header>
        <Auk::Toolbar>
          <Auk::Toolbar::Group @position="left">
            <Auk::Toolbar::Item>
              <h4 class="auk-panel__title">
                {{t "translations"}}
              </h4>
            </Auk::Toolbar::Item>
          </Auk::Toolbar::Group>
          <Auk::Toolbar::Group @position="right">
            <Auk::Toolbar::Item>
              <Auk::Button
                @skin="secondary"
                @icon="mail"
                @disabled={{this.isRequestingDisabled}}
                {{on "click" this.openTranslationRequestModal}}
              >
                {{t "request-translations"}}
              </Auk::Button>
            </Auk::Toolbar::Item>
            <Auk::Toolbar::Item>
              <Auk::Button
                @skin="secondary"
                @icon="plus"
                @disabled={{this.isUploadDisabled}}
                {{on "click" this.openPieceUploadModal}}
              >
                {{t "upload-translation-file"}}
              </Auk::Button>
            </Auk::Toolbar::Item>
          </Auk::Toolbar::Group>
        </Auk::Toolbar>
      </Auk::Panel::Header>
      <Auk::Panel::Body class="auk-u-bg-alt">
        {{#each this.model as |translationRow|}}
          {{#if translationRow.requestActivity}}
 -
          {{else if translationRow.piece }}
  +
          {{/if}}
        {{/each}}
      </Auk::Panel::Body>
    </Auk::Panel>
  </div>
</div>

{{#if this.isPieceUploadModalOpen}}
  <Publications::Publication::Translations::DocumentsUploadModal
    @translationSubcase={{this.translationSubcase}}
    @onSave={{perform this.saveSourceDocument}}
    @onCancel={{this.closePieceUploadModal}}
  />
{{/if}}

{{#if this.showPieceEditModal}}
  <Publications::Publication::Translations::DocumentsEditModal
    @translationSubcase={{this.translationSubcase}}
    @sourceDocument={{this.pieceRowToEdit.piece}}
    @onSave={{perform this.saveEditSourceDocument}}
    @onCancel={{this.closePieceEditModal}}
  />
{{/if}}

{{#if this.isTranslationRequestModalOpen}}
  <Publications::Publication::Translations::TranslationRequestModal
    @translationSubcase={{this.translationSubcase}}
    @publicationFlow={{this.publicationFlow}}
    @attachments={{this.selectedPieces}}
    @onSave={{perform this.saveTranslationRequest}}
    @onCancel={{this.closeTranslationRequestModal}}
  />
{{/if}}

{{#if this.showTranslationUploadModal}}
  <Publications::Publication::Translations::TranslationUploadModal
    @publicationFlow={{this.publicationFlow}}
    @onSave={{perform this.saveTranslationUpload}}
    @onCancel={{this.closeTranslationUploadModal}}
  />
{{/if}}